
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Lizhe.name</title>
  <meta name="author" content="Lizhe">

  
  <meta name="description" content="I use heroku when I started learning rails. Heroku provide very good log tool to let you check what&#8217;s happeing when the app is running. There &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://zhelee.github.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Lizhe.name" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<!--<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">-->
<!--<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">-->

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Lizhe.name</a></h1>
  
    <h2>Bricklayer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:zhelee.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/07/production-rails-log/">Production Rails - Log</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-07T23:28:00+08:00" pubdate data-updated="true">Apr 7<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/07/production-rails-log/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I use heroku when I started learning rails. Heroku provide very good log tool to let you check what&#8217;s happeing when the app is running. There is no capistrano recipes by default, I created the following log recipes, hope it will help someone.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>desc "tail log files"
</span><span class='line'>namespace :log do
</span><span class='line'>  task :rails, :roles =&gt; :app do
</span><span class='line'>    run "tail -f #{shared_path}/log/production.log" do |channel, stream, data|
</span><span class='line'>      puts "#{channel[:host]}: #{data}"
</span><span class='line'>      break if stream == :err
</span><span class='line'>    end
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  task :unicorn_error, :roles =&gt; :app do
</span><span class='line'>    run "tail -f #{shared_path}/log/unicorn_stderr.log" do |channel, stream, data|
</span><span class='line'>      puts "#{channel[:host]}: #{data}"
</span><span class='line'>      break if stream == :err
</span><span class='line'>    end
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  task :unicorn_out, :roles =&gt; :app do
</span><span class='line'>    run "tail -f #{shared_path}/log/unicorn_stdout.log" do |channel, stream, data|
</span><span class='line'>      puts "#{channel[:host]}: #{data}"
</span><span class='line'>      break if stream == :err
</span><span class='line'>    end
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  task :nginx_error, :roles =&gt; :web do
</span><span class='line'>    run "tail -f /var/log/nginx/error.log" do |channel, stream, data|
</span><span class='line'>      puts "#{channel[:host]}: #{data}"
</span><span class='line'>      break if stream == :err
</span><span class='line'>    end
</span><span class='line'>  end
</span><span class='line'>
</span><span class='line'>  task :nginx_access, :roles =&gt; :web do
</span><span class='line'>    run "tail -f /var/log/nginx/access.log" do |channel, stream, data|
</span><span class='line'>      puts "#{channel[:host]}: #{data}"
</span><span class='line'>      break if stream == :err
</span><span class='line'>    end
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/07/production-rails-assets-precompile/">Production Rails - Assets Precompile</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-07T23:15:00+08:00" pubdate data-updated="true">Apr 7<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/07/production-rails-assets-precompile/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Precompile assets can take long time during deployment. And actually you don&#8217;t need to precompile it for every deployment. Use git to check whether file has changed to avoid precompile assets everytime.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>namespace :deploy do
</span><span class='line'>  namespace :assets do
</span><span class='line'>    task :precompile, :roles =&gt; :web, :except =&gt; { :no_release =&gt; true } do
</span><span class='line'>      from = source.next_revision(current_revision)
</span><span class='line'>      if capture("cd #{latest_release} && #{source.local.log(from)} vendor/assets/ app/assets/ | wc -l").to_i &gt; 0
</span><span class='line'>        run %Q{cd #{latest_release} && #{rake} RAILS_ENV=#{rails_env} #{asset_env} assets:precompile}
</span><span class='line'>      else
</span><span class='line'>        logger.info "Skipping asset pre-compilation because there were no asset changes"
</span><span class='line'>      end
</span><span class='line'>    end
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>this solution precompile assets in the server side.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>namespace :deploy do
</span><span class='line'>  namespace :assets do
</span><span class='line'>
</span><span class='line'>    task :precompile, :roles =&gt; :web do
</span><span class='line'>      from = source.next_revision(current_revision)
</span><span class='line'>      if capture("cd #{latest_release} && #{source.local.log(from)} -- vendor/assets/ lib/assets/ app/assets/ | wc -l").to_i &gt; 0
</span><span class='line'>        run_locally("rake assets:clean && rake assets:precompile")
</span><span class='line'>        run_locally "cd public && tar -jcf assets.tar.bz2 assets"
</span><span class='line'>        top.upload "public/assets.tar.bz2", "#{shared_path}", :via =&gt; :scp
</span><span class='line'>        run "cd #{shared_path} && tar -jxf assets.tar.bz2 && rm assets.tar.bz2"
</span><span class='line'>        run_locally "rm public/assets.tar.bz2"
</span><span class='line'>        run_locally("rake assets:clean")
</span><span class='line'>      else
</span><span class='line'>        logger.info "Skipping asset precompilation because there were no asset changes"
</span><span class='line'>      end
</span><span class='line'>    end
</span><span class='line'>  end
</span><span class='line'>end</span></code></pre></td></tr></table></div></figure>


<p>this solution will precompile assets locally and upload the assets to the server. It&#8217;s better, precompile assets can take a lot of cpu and memory, in this way, it won&#8217;t affect the server while deploy code.</p>

<p>There is a gem called <a href="https://github.com/ndbroadbent/turbo-sprockets-rails3">turbo-sprockets-rails3</a> also can solve this problem, just add this gem to your gemfile, and it works.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/07/production-rails-deploy/">Production Rails - Deploy</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-07T23:01:00+08:00" pubdate data-updated="true">Apr 7<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/07/production-rails-deploy/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Capistrano deployment use ssh to deploy. In most of the time, you will first push your code to a vcs system. Let&#8217;s say we are using git and github. The deployment process is like this:</p>

<ol>
<li>ssh into server</li>
<li>checkout code from github</li>
</ol>


<p>We don&#8217;t want to input password whenver we want to deploy. So we need to copy ssh public key to the server. We Can use <code>ssh-copy-id username@server</code> to simplify this step. after this step we can ssh into server without input any password.</p>

<p>When checking code from github it needs the ssh key in our develop computer, so here we need to setup ssh-forward.</p>

<ol>
<li>add <code>ssh_options[:forward_agent] = true</code> to <code>config/deploy.rb</code></li>
<li>be sure a <code>ssh-agent</code> enabled <code>bash</code> is started. if not, use <code>exec ssh-agent bash</code> to start</li>
<li>be sure <code>ssh key</code> is added, use <code>ssh-add -l</code> to check your ssh key is added, if not, use <code>ssh-add .ssh/your-key</code> to add it</li>
</ol>


<p>by doing the above steps, you can use <code>cap deploy</code> to checkout code from github in the server whitout add another ssh key for the server to github.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/04/07/tools-for-every-rails-developer/">Tools and Tips for Every Rails Developer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-07T21:19:00+08:00" pubdate data-updated="true">Apr 7<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/04/07/tools-for-every-rails-developer/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Being a rails developer for almost 2 years, I found a lot of tools for easily developing rails application including ruby gems, editors, browser extensions, frameworks. Here I list some tools where I think should be use in every rails application development.</p>

<h3>1. Zeus</h3>

<p>Whenever after you start rails, you want to start rails console, generate a model or execute rake task, as it needs to load the whole rails application instance, it will take some time, if it is a big application, for example, it has 30 models, it will take so long time. Use Zeus, it will preload the application, so every command will be executed by using this application instance. Check the official github documention. <a href="https://github.com/burke/zeus">Zeus</a>.</p>

<h3>2. Shell prompt</h3>

<p><img src="https://a248.e.akamai.net/camo.github.com/f77fc2ea241f3bf84256dde18342c5e25ab352c3/687474703a2f2f692e696d6775722e636f6d2f42726b6d302e706e67" alt="shell prompt" /></p>

<p>As a rails developer, we use terminal a lot. the default shell prompt is just the current user, current host and current folder. We want to know the current git status, wether we have changed something, or is there any conflicts, which branch we are working on. There are 2 github repository for easily integrate these kind of prompt, if you use bash, you can use <a href="https://github.com/revans/bash-it">Bash-it</a>, if zsh, you can use <a href="https://github.com/robbyrussell/oh-my-zsh">Oh-my-zsh</a></p>

<h3>3. Better Errors And Rails Panel</h3>

<p>Default rails error page does not show too mush information for you to debug. Use <a href="https://github.com/charliesome/better_errors">Better errors</a> can show you more information, and provide an interactive console to dig into the code.
<img src="https://a248.e.akamai.net/camo.github.com/f05d967fb90cbe3e686ad794062c2151f7ee19a5/687474703a2f2f692e696d6775722e636f6d2f7a594f58462e706e67" alt="better errors" /></p>

<p><a href="https://github.com/dejan/rails_panel">Rails Panel</a> just let you leave rails development log, just focus on the browser itself, it contains a rubygem and google chrome extension, in the google chrome extension, there is an panle show all the development information.</p>

<h3>4. Short Cuts</h3>

<p>Everyday you type <code>rails s</code> or <code>rails s -p 3010</code> to start the rails server, have you think to type less, for example <code>rs</code> to <code>rails s</code> or <code>rails s -p 3010</code>, <code>rg</code> to <code>rails g</code>, <code>rc</code> to <code>rails c</code>. Simply add all of these short cuts to your .bashrc to set your own customized command. Not only rails itself, you can have other short cuts like <code>git st</code> to stands for <code>git status</code> in .gitconfig</p>

<h3>5. Guard-Livereload And Guard-Rails</h3>

<p><img src="https://a248.e.akamai.net/camo.github.com/dfda2a47ddefe982a455c391c6788fa62a5c70d9/687474703a2f2f696d673531352e696d616765736861636b2e75732f696d673531352f313335382f677561726469636f6e2e706e67" alt="Guard" /></p>

<p>You change a css color and go back to the browser, and refresh it to get the result. In a rails application, you dont need to do this. If you have a bigger monitor or 2 monitor, you will love Guard-Livereload. Simplely add Guard-Livereload, and install livereload extension in google chrome or firefox. after setup the Guard file, whenever you change the view, css, or images, the browser will refresh automatically. You can not miss it if you are developing the view part.
Whenver you change a file which need to restart rails server, you will kill the rails first, and use <code>rails s</code> to start it again. Use Guard-rails you dont need to do this, it will restart rails automatically, you just need to config the Guardfile to add lines to specify which file changement need to restart rails app.</p>

<h3>6. RSpec, Spork, Guard-RSpec, Guard-Spork</h3>

<p>RSpec is a very good testing framework in Ruby, it should be used in every ruby project, of course in rails. As whenver running the tests need to load the rails application, it could need a long time to execute the tests, use <a href="https://github.com/guard/guard-spork">Guard-Spork</a> will preload the rails application, and use (Guard-RSpec) will only run tests which are related to the changed file. The related rules are configurable in Guardfile.</p>

<h3>7. Quiet Assets</h3>

<p>In most of time you dont need show assets log in rails development log, just add <code>gem 'quiet_assets', :group =&gt; :development</code> in your Gemfile, and the world will be much more quieter.</p>

<h3>8. Pry, Pry-Debugger And Pry-Rails</h3>

<p><img src="http://pryrepl.org/images/pry_logo.png" alt="pry" /></p>

<p><a href="https://github.com/pry/pry">Pry</a> is great tool to inspect ruby variables, simplily add <code>pry-rails</code> to your Gemfile, when you execute <code>rails c</code> it will use <code>pry</code> as the console instead of <code>irb</code>. add <code>pry-debugger</code> to your Gemfile, you will get a debugger using pry, you can use <code>next</code>, <code>step</code> to navigate.</p>

<h3>9. Vagrant</h3>

<p>you need a production like environment to simulate something, use <a href="vagrantup.com">Vagrant</a>. you can write a script to setup a production rails environment in minutes, and this environment could be duplicated. You can destroy it and rebuild it very easily.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/01/27/production-rails/">Production Rails - Overview</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-27T07:24:00+08:00" pubdate data-updated="true">Jan 27<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/01/27/production-rails/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong> The tools </strong></p>

<ol>
<li>Nginx</li>
<li>Unicorn</li>
<li>PostgreSQL</li>
<li>Capistrano</li>
<li>RVM</li>
<li>Git</li>
<li>Puppet</li>
<li>Vagrant</li>
<li>Linux (We are using ubuntu 12.10)</li>
</ol>


<p><strong> Ruby and Rails </strong></p>

<ol>
<li>Ruby 1.9.3</li>
<li>Rails 3.2.11</li>
</ol>


<p><strong> Database </strong></p>

<ol>
<li>PostgresSQL 9.1</li>
</ol>


<p><strong> Some linux knowledge </strong></p>

<ol>
<li>How to start, stop, restart a linux service</li>
<li>How to let a service start when linux boot up</li>
<li>How to create a user in linux</li>
<li>SSH</li>
</ol>


<hr />

<h2>Create a depoyer user</h2>

<p><strong> 1. Why do we need to create a new user to deploy the application </strong></p>

<p>When we deploy a proudction rails, it&#8217;s a little different from its development mode and it&#8217;s better to let a specific user with specific rights to do the deployment to avoid mistakes, and it&#8217;s easier to log the deployments.</p>

<p><strong> 2. How to </strong></p>

<p>In ubuntu, we use the following command to create an user with specific home directory and a password: <code>sudo adduser deployer</code>, and follow the prompted instruction, it&#8217;s easily to create a user called deployer with a home directory /home/deployer.</p>

<h2>Install the softwares</h2>

<p><strong> 1. Install RVM, Ruby, Rails, PostgresSQL, Vagrant, Puppet</strong></p>

<p>There are thousands of tutorials to install these things, just remember the version we mentioned above. And there are some points which could help if there got some problems:</p>

<ol>
<li>RVM for single user or system. I recommend to install as system on a server, because ruby could be used for other users, for example maintenance users. and the user wants to user rvm is needed to be added to the rvm group;</li>
<li><strong><strong> For PostgresSQL. When you first install PostgresSQL, it&#8217;s needed to configure <code>/etc/postgres/9.1/main/pg_hba.conf</code> to let PostgresSQL to be able to be connected.</strong></strong>;</li>
<li>Vagrant and Puppet are written by ruby, so we can install them by <code>gem install [vagrant|puppet]</code></li>
</ol>


<p><strong> 2. Unicorn </strong></p>

<p>Unicorn is a great app server for rails, it gives the oppertunity to do a zero downtime deployment</p>

<ol>
<li><code>gem install unicorn</code> or add <code>unicorn</code> to <code>Gemfile</code></li>
</ol>


<p><strong> 3. Set up Vagrant </strong></p>

<p>We will talk about vagrant in another post, at this time you can check its offical website, <a href="http://vagrantup.com">vagrantup.com</a></p>

<p><strong> 4. Set up Puppet </strong></p>

<p>We use Puppet to provision the server environment, to keep the same softwares and configurations between the virtual machine and the real server, we will talk about puppet in another post too, at this time you can the cookbook of puppet, <a href="http://www.puppetcookbook.com">puppet cookbook</a></p>

<p><strong> 5. Capistrano </strong></p>

<p>We will use capistrano to deploy the application. and because the env configration changes depends on the application itself, we use capistrano to set nginx and unicorn configurations during the deployment process.</p>

<p><strong> The big overview for deploying an rails production application </strong></p>

<ol>
<li>Use Git as the source control system. Before deploying the application to the server, forbid any code change to be pushed to the Git server;</li>
<li>run the unit test, if tests are passed, go to step 3;</li>
<li>Use Vagrant to set up a staging server, in this step, code will be deployed to this staging server, if the deployment is successful, go to step 4;</li>
<li>Run capistrano to deploy the application, in the capistrano deploying file, there are the following steps:

<ol>
<li>deploy the code</li>
<li>run the assets compile</li>
<li>run the database migration</li>
<li>restart process if needed</li>
<li>if the new code fails to run, use capistrano to rollback the previous version;</li>
</ol>
</li>
</ol>


<hr />

<p>In the following posts, I will talk every topic in a seprated post. and here will be the list of these posts.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/11/12/how-do-I-learn-ruby-and-rails/">How Do I Learn Ruby and Rails</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-12T07:33:00+08:00" pubdate data-updated="true">Nov 12<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/11/12/how-do-I-learn-ruby-and-rails/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have learned ruby and rails for 1 year and 4 months. I collected a lot of great resources about ruby and rails from internet, it could be helpeful for you to start learning ruby and rails.</p>

<h2>Ruby Language</h2>

<h4>Books</h4>

<p>The best book to start learning ruby is <strong>Programming Ruby</strong></p>

<p><img src="http://img3.douban.com/mpic/s5616673.jpg" alt="programming ruby" /></p>

<p>This book tells everything about basic ruby language, it&#8217;s very good to start.</p>

<p>As ruby has its own style to code, another very good book to learn ruby style is <strong>Eloquent Ruby</strong></p>

<p><img src="http://img3.douban.com/mpic/s4683957.jpg" alt="Eloquent Ruby" /></p>

<p>and to learn what makes <strong>Rails</strong>, you need to know the <strong>Meta Programming</strong>, the best book for this area is <strong>Metaprogramming Ruby</strong></p>

<p><img src="http://img3.douban.com/mpic/s4209424.jpg" alt="Metaprogramming Ruby" /></p>

<h4>RVM</h4>

<p><a href="rvm.io">RVM</a> is a tool to install different rubies in a same computer, whenver you wanna switch to another version, you can do that very easily by using RVM.</p>

<h4>Rubygems</h4>

<p>Rubygems are the package of ruby code, just like <strong>jar</strong> in Java. It&#8217;s a must learning tool. You can just browse the offical website of <a href="http://rubygems.org">Rubygems</a>, and check the <a href="http://guides.rubygems.org/">offical documentation</a>, and learn how to <a href="http://guides.rubygems.org/make-your-own-gem/">write your own ruby gem</a></p>

<h4>Bundler</h4>

<p><a href="http://gembundler.com/">Bundler</a> is great tool to manage gem dependencies. It means you have lots of gems in a ruby project, and different gems dependend on other different version gems, bundler can help manage that, it&#8217;s a little like <strong>Maven</strong> in Java. <strong>Using bundler, it&#8217;s more easy to start a ruby gem, check the link to know how to do that</strong>, <a href="http://gembundler.com/rubygems.html">create gem by using bundler</a></p>

<h4>RSpec</h4>

<p>The best testing framework in ruby, after using it, you will love it. check the link <a href="rspec.info">RSpec</a></p>

<p><em>The above are the basic knowledge which make the ruby world so exciting, after you know all of this, it&#8217;s much more easier to start exploring things in the ruby world</em></p>

<h2>Rails</h2>

<h4>The best resource to start learning rails</h4>

<p><a href="http://guides.rubyonrails.org/">Ruby on Rails Guides</a> is always the best resource to start learning rails, and lots books just copy the content here. So before you finish that, you don&#8217;t need any other resource.</p>

<h4>Railscasts</h4>

<p><a href="http://www.railscasts.com">Railscasts</a> is very good resource for people to learn rails, the quality is great, you need check all of them.</p>

<h4>Books</h4>

<p>There are some books for the specific topics in Rails.</p>

<p><strong>Views</strong>  <a href="http://pragprog.com/book/warv/the-rails-view">The Rails View: Create a Beautiful and Maintainable User Experience</a></p>

<p><img src="http://imagery.pragprog.com/products/233/warv_xlargecover.jpg?1331645481" alt="The Rails View" /></p>

<p><strong>Recipes</strong>  <a href="http://pragprog.com/book/rr2/rails-recipes">Rails Recipes: Rails 3 Edition</a></p>

<p><img src="http://imagery.pragprog.com/products/239/rr2_xlargecover.jpg?1300128814" alt="Rails Recipes" /></p>

<p><strong>Deploying</strong>  <a href="http://pragprog.com/book/cbdepra/deploying-rails">Deploying Rails: Automate, Deploy, Scale, Maintain, and Sleep at Night</a></p>

<p><img src="http://imagery.pragprog.com/products/246/cbdepra_xlargecover.jpg?1331155494" alt="Deploying Rails" /></p>

<p><em>Until now, the resources are the traditional resources, reading the official documentation and reading some books, There are some other more advanced way to learn ruby and rails</em></p>

<h2>Keep tracking the new knowledge of the community</h2>

<p>Here I introduce 2 podcasts, In the podcast you can always get what is happening in the ruby and rails community, new technology or new gems, most of the time, you need them, maybe a gem can help you, maybe a new trick can help you. here are the links</p>

<ol>
<li><a href="http://rubyshow.com/">The Ruby Show</a></li>
<li><a href="http://ruby5.envylabs.com">Ruby5</a></li>
</ol>


<h2>Stackoverflow</h2>

<p><a href="http://stackoverflow.com">Stackoverflow</a> is a friend of the coder&#8217;s. One day, I think stackoverflow is a great place to learn things, it&#8217;s not only questions, but try to answer others questions, to kown whether you can solve the problems is really good way to improve yourself, because all the problems people meet you may meet in the future. So you can subscribe the <strong>Ruby</strong> and <strong>Ruby On Rails</strong> topics, try to answer some questions.</p>

<h2>Github</h2>

<p>People from Ruby and Rails community love <a href="http://github.com">Github</a>, because it&#8217;s built with Rails, and it&#8217;s a great tool to share code, manage code by using <strong>Git</strong>. But another very good thing in github is <strong>exploring</strong>, Here the link <a href="https://github.com/explore">explore</a>, you can choose <a href="https://github.com/languages">Languages</a>, and select <a href="https://github.com/languages/Ruby">Ruby</a> to check the hottest ruby repository code, and learn from the code.</p>

<h2>Ruby Toolbox</h2>

<p><a href="https://www.ruby-toolbox.com/">Ruby Toolbox</a> is a great tool to choose Rubygems. For example, you wanna a cms framework, you don&#8217;t need google but ruby toolbox. I think here you can find the best gem in every categories, the best cms framework, the best deployment gem, the best testing framework and so on.</p>

<h2>Ruby weekly newsletter</h2>

<p><a href="http://rubyweekly.com/">Ruby Weekly</a> is a weekly newsletter about infomation from Ruby and Rails community, you&#8217;ll find great tool or tricks every week.</p>

<h2>Ruby Blogs</h2>

<p><a href="http://www.rubyinside.com/">Ruby Inside</a>. People only talk about Ruby and Rails here. A lot of more <strong>advanced</strong> topic, such as deployment, performance, cloud and so on.</p>

<p><a href="http://rubysource.com/">Ruby Source</a>. Here is another blog, It talks about more tricks which could be used in your project.</p>

<hr />

<p><em><strong>This post will be always update when I find new resource which is great to share here</strong></em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/28/whats-wrong-with-these-coders/">程序员到底怎么了</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-28T22:28:00+08:00" pubdate data-updated="true">Sep 28<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/09/28/whats-wrong-with-these-coders/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>我在<a href="blog.jobbole.com">伯乐在线</a>发表过这个文章，当时是一时冲动写了这个东西，后来发现很多人读了它，褒贬不一，有人说这里面错别字太多，（这里我修正了一下），有人也表示同意我的看法，并表示有所感慨。我也开始总结自己，发现写了很多东西，但是散落在各个角落，现在也找不到了，主要是没有写在网上，以后尽量把自己的工作经历都写出来与大家分享，讨论一下程序员的人生，尤其是那些帮助了我自己的，也希望把它分享出来，帮助到其他人。</p></blockquote>

<p>我们是这样的一群人：每天都在“努力”的工作着，每天都和计算机打交道，泡在网上，打游戏，查资料，发微博。可是有一天，突然意识到，我们的未来在哪里，每个月那点可怜的工资，一年加起来也买不了几平米，找个女朋友也那么难，即使找到了，她还总是跟你说，为什么别人挣的都比你多，你每天不停的写着代码，每天不停的掉头发，每天都在发呆的想那“不远”的未来。他们管我们叫“码农”，我们管自己叫“程序员”，出差的时候被叫做“工程师”，我们到底是什么？
对于我自己，我只想告诉每个人，我不是一个程序员，I’m not a coder。</p>

<p>程序员到底怎么了，我们当然不否认有很多出色的程序员，他们生活的好，赚的也多，可是毕竟大多数都还是一般水平，很多还是挣扎在基本满足吃住的水平。特别深的问题，比如国家社会问题（总有人会说我们的社会把我们搞成了这个样子），我这里不想谈，我来结合自己的体会来讲讲我所认识的一些程序员都在怎样工作和生活。</p>

<p>我周围的程序员大都不喜欢程序员这个行业，总希望如果未来可能，一定要跳出这个圈，去做别的行业，有的说去做销售，有的说回老家开个小超市，有的说的更是离谱。我不知道为什么他们都在这么说，原因在于我从未见过他们努力过，如果没有努力过如何知道这个职业就是没有前途的呢？工作的时候，他们大都在谈论社会问题，昨天看了什么电影，谁也买了个iPhone，谁的爸爸给谁在北京买了套房子等等无聊的问题，后来他们谈论什么我就不知道了，我带上了耳机，畅游在代码的世界里，享受着原来100 行完成的功能，经过我重写，只要50行就能运行的比以前好，而且效率更高。</p>

<p><strong>第一个问题，程序员和其他行业一样，最起码需要一个态度。</strong>如果你连基本的态度都没有，不要谈程序员没有前途，因为每个行业对这样的人来说都没有前途。</p>

<p>我做完一个功能，演示给我的同事看，然后告诉他我是怎么实现的，以及这样做的好处是什么。他的一句话像一盆凉水一样泼在我的脸上，“你费这么大劲干嘛啊，你不要想这么多，领导又看不见你是怎么设计的。”，“哦”。我很无语，也更不知道怎么答复他。听完那句话我彻底明白程序员没前途的原因了，和其他很多行业相比，软件不容易发现问题，也许你做个特效，让一个东西蹦来蹦去反而得到领导的赏识，而你自己花费了很多自己私有的时间来设计的结构没有人会采用，因为你的领导要向他的领导交差，他也希望能拿的出一点能看得见的东西。很多程序员被这样的领导强奸了，只做哪些表面工作来取悦领导，2，3年过后，发现自己什么都不会了。也就看不见前途了，做那点破东西，可以让你得到一会儿的“赏识”，计算机是个技术活，需要技术和经验的积累。</p>

<p><strong>第二个问题，程序员的前途是程序员自己造就的，如果你觉得你现在没有前途，那只能说明你做的不够好。</strong></p>

<p>计算机业界有很多好书，非常著名的书，比如《黑客与画家》、《Unix编程艺术》，我不想说《算法导论》这种书，因为它确实枯燥无比，我自己也从未完整的看过一遍。但是像《黑客与画家》此类的书是不同的，它能打通你的思路，告诉你问题出在哪里，未来的方向在哪里。如果你想看看一个程序员的视野是否还算开阔，问问他是否听说过某本书，听说过，那就还可以，说明自己懂点门道，如果读过，那就太好了，可以问问关于书中的一些观点，这里没有对或错，完全是自己的观点。我问过我身边的同事，读过这些著作的人屈指可数，而读过的确实不一样，眼界比较开阔，不会局限在非常狭小的范围内，更不会跟你扯闲天。</p>

<p><strong>第三个问题，要多读书，读好书，而且不要只读一遍。</strong>读书应该像高中老师说的那样，从厚读到薄，从薄读到厚。</p>

<p>我去年认识了一个朋友，这个人三句话离不开写程序，我们吃午饭谈程序，我们在电梯里谈程序，只要我们在一起我们就讨论如何实现某个系统，如何然让这个系统运行的更快，某个新技术的机制是怎样的，在什么情况下采用是比较好的选择。和他在一起待了3个月，我感觉自己的眼界比以前开阔了一倍。这三个月我感觉每天都非常充实，完全没有了以前浪费生命的感觉，因为感觉每天都在补充知识，懂的更多了，更有信心了。</p>

<p><strong>第四个问题，如果你是个程序员，你必须认识一些在这个领域里比你强的人，并和他们交谈，去开阔眼界，去了解未来是什么样子的，哪怕只是听他们说，都能有很多收获。</strong></p>

<p>公司来了个新同事，他还没有毕业，但是当我跟他讨论一些问题时，发现他知道的事情非常多，尽管技术不是非常好，但是他的方向很明确，而且基础知识掌握的非常好，比如位操作（读到这里的朋友，你能用你最熟悉的编程语言进行位操作吗？）。有一次他遇到一个问题，我过去帮助他，偶然间发现他的一个文件夹，这个文件夹的名称是Daily Reading，里面都是一个个按照日期分好的文件夹，从他来公司的那天起，一直都记得很好，我简单的看了看，里面都是每天看了哪些网上的文章，以及他对这些文章的一个总结。这种方式也许不是最好的方式，用一些软件可能更好，比如evernote，但是不得不说的是，他把自己曾经阅读过的资源都整理起来了。</p>

<p><strong>第五个问题，你每天都会遇到问题，每天都会在网上查资料，或者查书，但是否总结过这些问题呢。</strong>总结，真的能让人进步。方式多种多样，比如写博客。</p>

<p>老板总说我没有计划，我也不懂的如何计划，老板说很简单，不需要太复杂，只需要一个excel 文件，早晨来了以后，想想昨天的工作完成的什么样，今天要做哪些工作，然后添进excel，把所有任务的背景色设置成红色的，代表未完成；下班的时候，完成的，背景色换成绿色的。第二天接着这样做。我跟一个朋友说了这个方法，这个朋友立马要我把这个excel的模板给他，我顿时无语了，然后告诉他，没有模板。</p>

<p><strong>第六个问题，学会计划和安排。</strong>不需要太复杂，先从简单的开始，但是不要把自己局限死，再强大的人都需要安排和计划，你应该听说过bug 管理系统，它本身就是一种计划与安排工具，但是它更高级，你可以随时知道软件的bug。当你每时每刻知道自己需要做什么的时候，你的效率会是最高的。</p>

<p>做到这几点，我认为就是一个比较合格的程序员了，也只是合格而已。做到这几点是不是很累呢？或者很困难呢？它的难度和人经常睡懒觉突然强迫自己早起的难度差不多，所以，难还是不难呢？程序员不是没有前途，而是很多程序员葬送了自己的前途。</p>

<hr />

<p><strong>我读了好多评论，都在不同的网站里读的，我希望我能给出自己的观点。（今年比去年好些了，现在转载别人的文章都主动加上作者的名字了）</strong></p>

<blockquote><p>你说的那本书是外国写的，也只能代表外国，在中国搞技术就是没有前途的</p></blockquote>

<p>我自己最不爱听到的事情就是在中国行不通，我觉得心里有种想法的人最缺的不是技术知识，是历史知识，我建议这样的朋友应该看看《大国崛起》等简明概要的历史题材节目或书籍。我认为这样的看法属于悲观消极的看法，我对这样的看法持无观点的态度，我碰到过这样的人，只要跟我说一次这样的话，我是再也不会跟他讨论技术问题的。</p>

<blockquote><p>我觉得这篇文章没什么价值，至少你不能要求每个、或大多数程序员去拼命做不到的事情仍然要求他们去做(努力)。</p></blockquote>

<p>任何正常人如果努力的去做一件事情，很少会不成功。不成功的大部分情况是因为那个前提条件，即没有努力，或努力不够。在我们开始做一件事情之前，我们要问自己能不能做到，如果自己的回答是也许吧，那就不要做了，因为肯定做不好，原因是你自己不相信能做好，也就不会去尽全力去做。如果你的答案是我能做好，那么你可以开始，但还不够，还要有所计划和准备，如果你计划好了，准备充分了，成功的机率就大大增加。这里说的事情不是一年如何赚上一个亿之类的事情，是如何生活的更好，工作的更好，赚的比以前多一些之类。</p>

<blockquote><p>当程序员的目的不就是为了买房子娶老婆生孩子？</p></blockquote>

<p>如果当程序员的目的是为了买房子娶老婆生孩子，那么买房子娶老婆生孩子的目的又是什么呢？</p>

<p><strong>还有一些相当给力的评论</strong></p>

<blockquote><p>没有土壤？IT行业最开放，就算没有土壤也完全可以自学，网上资料一把一把的。别的行业你可能自学吗？你有条件吗？
不是没土壤，还是你自己能力问题！</p></blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/09/28/after-one-year/">After-one-year</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-09-28T21:17:00+08:00" pubdate data-updated="true">Sep 28<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/09/28/after-one-year/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After being working in <a href="www.secondbureau.com">SecondBureau</a> for 1 year, I
learned a lot things, this post is about my experience in this company.</p>

<p>Something I want to mention at the beginning of this post:</p>

<ol>
<li>I am Chinese, worked in the Chinese comapny before I enter this French
company</li>
<li>I used Java as main language before, and I use Ruby in the current company</li>
<li>I used Microsoft Windows before, and now I use xubuntu in company</li>
</ol>


<p>Now I am more and more clear how to be a good and successful coder, I think if I
didn&#8217;t enther the current company, I don&#8217;t know how much time it will take to
let me known how to become a better coder, becuase what I learned in the past
year in the current company is even more than the last 3 years before the
previous year.</p>

<p>Here I want to share some of tips those I learned in the past year.</p>

<p><strong>1. Write specification at the very beginning, and really thinking about the
needs.</strong> Some people say they are using <strong>Agile</strong> now, they don&#8217;t need specification, they
do it by iteration. I trust this before, but actually it&#8217;s wrong, because
<strong>Agile</strong> doesn&#8217;t mean without specification or any documents. My boss teach me to
write my first specification, after that I feel I am much more clear about the
needs, the specification has no relationship with the code, it only describes
the features, and let you think about how does the user want to use the software, and
what they want to do with it, with some work flow chart, we can know the
process. In this step, we would know how the user want to use the software and
some special needs. I think that&#8217;s enough, we write this basic specification and
meet the clients to talk with them , and make the specification better.</p>

<p><strong>2. Make plans for the day, the week, the month.</strong> If you are not clear about
your work for the day, just stop and think about it, if you can make a plan for
the next week, the next month, or even the next half year, everything will be
easier, why, because every second you know what you should do, and know what
kind of problems you might meet, and know how to fix the problem. Making plan is
really a thing which will cause you to think about future. Thinking about the
clients, maybe they will change their minds about the software, maybe we can
prepare something which we think they are needed in the future, maybe a big
overview about the next month. Making plan can let you have a good feeling about
future, and we can control it better, this means, less problems, more things
under control. Another point is we need adjust the plan by the end of the day,
the week, the month, through this we know the problem, and we can improve
ourselves or let us know better future.</p>

<p><strong>3. Charts and prototype.</strong>  Some of people like me don&#8217;t have sense with
charactors, but a picture can make us very clear about things in a minute. And
for colleage and client, it&#8217;s the same. Draw things when you think about the
working flow and the user interface. We can use some tools to draw it very
quickly, it really show the meanings. It make us easily understand each other,
especially for the clients.</p>

<p><strong>4.Talking with your colleages.</strong> Talk with your colleages can improve yourself
very fast. Maybe you are stucked with a problem, and you have been thinking for
2 hours, without any result. some people will continue, and some will ask. We
are working, not researching, so we need result as soon as possible, if it
already takes a lot of time, you need to ask, or communicate with others, maybe
others alreay know the solution, or maybe they have met something like that, it
will help you to fix the problem.</p>

<p><strong>5. Give feedback as soon as possible.</strong>  3 months ago, I made a big mistake.
After 3 weeks, I told the boss I want to change the way to implement the
feature. It&#8217;s really very bad. 2 points here, why do you want to change the way and
why do you want to change after 3 weeks. Let&#8217;s focus on the second question. The
first one is caused by the second one. Why do you want to change after 3 weeks,
it should not happen if you give feedback as soon as possible. Others can
evaluate the result and talk about this way and this feature, and point out some
keys. in this way we would change in 3 days, not 3 weeks. It takes less time but
more effitioncy work.</p>

<p><strong>6. Focusing on 1 or 2 technologies, not 100.</strong> I like technology, I spent a lot
of on internet to find what&#8217;s newest language, what&#8217;s the best framework,
something like that. but finally I find that, I don&#8217;t know the very basic thing
of the language which I use everyday. everytime I need to find api docs to check
how to use the method, even I have used it for 10 times. If you are people like
me, stop searching on internet about the coolest technology, you can do this
before you sleep, take half an hour to do this, but not 4 hours everyday.
Focusing the technology you use everyday, know the basic and advanced, it can
help you work more efficency, and fix problems easily.</p>

<p><strong>7. Do something which is not related your work and technology.</strong> I love
technology, so I spent a lot of time on it, and sometime I got headache. Some
pelple say people who don&#8217;t know how to take rest, they don&#8217;t know how to work.
So read a book which is related to your work, or do some sports after work. This
is really releated to your habits, bacause some people really don&#8217;t need &#8220;rest&#8221;.</p>

<p>This post is not very realted to technology, but when you start think about any
of the above points, you are starting to be a better coder. because although we
work as a coder, half of the work is not writing code, they are manageing,
planning, thinking, communicating and writing code. If you are stucked by your
work, don&#8217;t know how to improve yourself, please think about other points.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/30/active-record-dirty/">Active_record_dirty</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-30T10:24:00+08:00" pubdate data-updated="true">Aug 30<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/08/30/active-record-dirty/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>研究一下active record的dirty用法</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/28/speciality-of-a-coder-1/">Speciality_of_a_coder_1</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-28T10:33:00+08:00" pubdate data-updated="true">Aug 28<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/08/28/speciality-of-a-coder-1/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>程序员需要的特质1：懒惰。</p>

<p>如何成为一个好的程序员，懒惰是地一个前提</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/04/07/production-rails-log/">production rails - log</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/07/production-rails-assets-precompile/">production rails - assets precompile</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/07/production-rails-deploy/">production rails - deploy</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/07/tools-for-every-rails-developer/">tools and tips for every rails developer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/27/production-rails/">Production Rails - Overview</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Lizhe -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'lizhe-name';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
